let photoPosts = [

    {
      id: '1',
      descriprion: 'Good memory! I graduated from music school . Music is what I like !',
      createdAt: new Date('2019-02-21T16:30:00'),
      author: 'Romanova Julia',
      photoLink: 'img/nature.jpg',
      likes: [],
      hashtags: ['#BSU', '#FPMI', '#like']
  
    },
  
    {
      id: '2',
      descriprion: 'Nature is beautiful!',
      createdAt: new Date('2019-02-11T12:12:00'),
      author: 'Miriniv Misha',
      photoLink: 'img/2.jpg',
      likes: [],
      hashtags: ['#BSU', '#FPMI']
    },
  
    {
      id: '3',
      descriprion: ' Gorgeous sunsets, beautiful countryside, the best people-that is what is sometimes missing...',
      createdAt: new Date('2019-01-10T17:30:00'),
      author: 'Alena Holubeva',
      photoLink: 'img/3.jpg',
      likes: ['Plaschinsky Ekler', 'Kitaev Ivan'],
      hashtags: ['#BSU', '#FPMI', '#2123']
    },
  
    {
      id: '4',
      descriprion: 'Photos are different ...',
      createdAt: new Date('2018-12-15T16:30:00'),
      author: 'Elizaveta Novichenko',
      photoLink: 'img/4.jpg',
      likes: [],
      hashtags: []
    },
  
    {
      id: '5',
      descriprion: 'Sometimes you just need to get to an unfamiliar city and look at everything from a different angle!',
      createdAt: new Date('2018-12-15T16:00:00'),
      author: 'Romanova Julia',
      photoLink: 'img/5.jpg',
      likes: [],
      hashtags: []
    },
  
    {
      id: '6',
      descriprion: 'Thought aloud, and more precisely on paper',
      createdAt: new Date('2018-11-11T11:30:00'),
      author: 'Romanova Julia',
      photoLink: 'img/6.jpg',
      likes: [],
      hashtags: []
    },
  
    {
      id: '7',
      descriprion: 'On the roofs of the city you can watch the changing scenery all day long',
      createdAt: new Date('2018-10-25T16:30:00'),
      author: 'Romanov Andrey',
      photoLink: 'img/7.jpg',
      likes: [],
      hashtags: ['#BSU', '#FPMI']
    },
  
    {
      id: '8',
      descriprion: 'Like a light in the shower',
      createdAt: new Date('2018-10-25T12:12:00'),
      author: 'Romanova Julia',
      photoLink: 'img/8.jpg',
      likes: ['Plaschinsky Egor', 'Ostrovskaya Alina'],
      hashtags: []
    },
  
    {
      id: '9',
      descriprion: 'Dacha, garden, nature and the best berries for me',
      createdAt: new Date('2018-09-21T16:30:00'),
      author: 'Romanova Julia',
      photoLink: 'img/9.jpg',
      likes: [],
      hashtags: []
    },
  
    {
      id: '10',
      descriprion: 'Soulful day cold evening!',
      createdAt: new Date('2018-09-11T11:30:00'),
      author: 'Romanova Julia',
      photoLink: 'img/10.jpg',
      likes: ['Ostrovskaya Alina'],
      hashtags: []
    },
  
    {
      id: '11',
      descriprion: 'Good memory! I graduated from music school . Music is what I like !',
      createdAt: new Date('2019-02-21T16:30:00'),
      author: 'Romanova Julia',
      photoLink: 'img/nature.jpg',
      likes: [],
      hashtags: []
    },
  
    {
      id: '12',
      descriprion: 'Nature is beautiful!',
      createdAt: new Date('2019-02-11T12:12:00'),
      author: 'Miriniv Misha',
      photoLink: 'img/2.jpg',
      likes: [],
      hashtags: []
    },
  
    {
      id: '13',
      descriprion: ' Gorgeous sunsets, beautiful countryside, the best people-that is what is sometimes missing...',
      createdAt: new Date('2019-01-10T17:30:00'),
      author: 'Alena Holubeva',
      photoLink: 'img/3.jpg',
      likes: [],
      hashtags: []
    },
  
    {
      id: '14',
      descriprion: 'Photos are different ...',
      createdAt: new Date('2018-12-15T16:30:00'),
      author: 'Elizaveta Novichenko',
      photoLink: 'img/4.jpg',
      likes: [],
      hashtags: []
    },
  
    {
      id: '15',
      descriprion: 'Sometimes you just need to get to an unfamiliar city and look at everything from a different angle!',
      createdAt: new Date('2018-12-15T16:00:00'),
      author: 'Romanova Julia',
      photoLink: 'img/5.jpg',
      likes: [],
      hashtags: []
    },
  
    {
      id: '16',
      descriprion: 'Thought aloud, and more precisely on paper',
      createdAt: new Date('2018-11-11T11:30:00'),
      author: 'Romanova Julia',
      photoLink: 'img/6.jpg',
      likes: [],
      hashtags: []
    },
  
    {
      id: '17',
      descriprion: 'On the roofs of the city you can watch the changing scenery all day long',
      createdAt: new Date('2018-10-25T16:30:00'),
      author: 'Romanova Julia',
      photoLink: 'img/7.jpg',
      likes: [],
      hashtags: []
    },
  
    {
      id: '18',
      descriprion: 'Like a light in the shower',
      createdAt: new Date('2018-10-25T12:12:00'),
      author: 'Romanova Julia',
      photoLink: 'img/8.jpg',
      likes: [],
      hashtags: []
    },
  
    {
      id: '19',
      descriprion: 'Dacha, garden, nature and the best berries for me',
      createdAt: new Date(),
      author: 'Romanova Julia',
      photoLink: 'img/9.jpg',
      likes: [],
      hashtags: []
    },
  
    {
      id: '20',
      descriprion: 'Soulful day cold evening!',
      createdAt: new Date('2018-09-11T11:30:00'),
      author: 'Romanova Julia',
      photoLink: 'img/10.jpg',
      likes: [],
      hashtags: []
    }
  
  ];
  let Post1 = 
  {
    id: '21',
    descriprion: 'New ! Soulful day cold evening!',
    createdAt: new Date(),
    author: 'Romanova Julia',
    photoLink: 'img/10.jpg',
    likes: [],
    hashtags: []
  }; 
  let newPost =
  {
    
    descriprion: 'Good evening!',
    createdAt: new Date('2018-09-11T11:30:00'),
    photoLink: 'img/11.jpg',
    likes: [],
    hashtags: ['#FPM']
  }

  let filterConfig =
  {
    hashtags: [],
    createdAt: new Date ('1018-09-11T11:30:00'),
    author: 'Miriniv Misha',
  }


  const Posts = new PostModel(photoPosts);
 // Posts.getPhotoPosts(2,5);

  let user = new User('Julia Romanova');
  let ViewPhoto = new View ();
  ViewPhoto.showPosts(Posts.getAllPosts());
  addPost(Post1, ViewPhoto);
  removePost(ViewPhoto, '1');
  editPost('3', ViewPhoto, newPost);
  isActiveUser(user, ViewPhoto);
  ViewPhoto.clearPosts();
  ViewPhoto.showPosts(Posts.getPhotoPosts(0,9, filterConfig));

  //filterPosts(ViewPhoto, filterConfig);
 // filter(ViewPhoto, filterConfig);
 
  //Posts.getPhotoPosts();
  //ViewPhoto.filterUser(Posts.getDates());
  //ViewPhoto.filterUser(Posts.getAuthor(), Posts.getPhotoPosts());

 // console.log("write posts!!!");
  //Posts.writePosts();
  


//   ViewPhoto.showPost( Posts.getPhotoPost('5'));
//   ViewPhoto.showPost( Posts.getPhotoPost('1'));
//   ViewPhoto.showPosts(Posts.getPhotoPosts(0,5));
function addPost(post, viewer) {

	if (!Posts.addPhotoPost(post)) {
		return false;   
    }
	viewer._showPost(Posts.getPhotoPost(post.id));
	return true;
}
function removePost( viewer, id) {
	if (!Posts.removePhotoPost(id)) {
		return false;
    }
    viewer._removePost(id);
	return true;
}
function editPost (id, viewer, newPost)
{
    if(!Posts.editPhotoPost(id, newPost))
    {
        return false;
    }
    viewer._editPost(id, Posts.getPhotoPost(id));
}
function isActiveUser(user, viewer)
{

  if (user.isUserName())
  {
    viewer._activeUser(user)
  }
  else
  {
    viewer._noActiveUser(user);
  }
}


function filterPosts(viewer, filterConfig)
{
  viewer.clearPosts();
  viewer.showPosts(Posts.getPhotoPosts(0,9, filterConfig));
}

function filter(viewer, filterConfig)
{
  //Posts.getPhotoPosts;

  viewer.filterUser(Posts.getAuthor(), Posts.getDates(), Posts.getHashTags());
  let button = document.getElementById("filter");
}

const viewer = new View();

function filterClickEvent(event)
{
  let allPosts = document.getElementById("photoPosts");  
  console.log("here!");
  if (event.target.id === "filter")
  {
    filterConfig.author = document.getElementById('user').value;
    filterConfig.createdAt = document.getElementById('date').value;
    filterConfig.hashtags.push(document.getElementById('Hashtags').value); 
    console.log(filterConfig.author + " " + filterConfig.createdAt + " " + filterConfig.hashtags);
    allPosts.style.display = 'none';
    viewer.showPosts(Posts.getPhotoPosts(0,9, filterConfig)); 
  }
} 

function showVariants(event) {
  if (event.target.id === 'Hashtags') {
    let hashtags = document.getElementById("childTags");
    let allTags = Posts.getHashTags();
    hashtags.innerHTML =`<p>${allTags.join(';  ')}</p>
    `; 
    hashtags.style.display = (hashtags.style.display === 'none') ? 'block': 'none';
  }
}

document.body.addEventListener('click', filterClickEvent);
document.body.addEventListener('click', showVariants);